
<ipx-loader></ipx-loader>
<div class="row" *ngIf="user">
  <div class="col-md-8">
          <div class="card">
              <div class="card-header card-header-icon card-header-rose">
                  <div class="card-icon">
                      <i class="material-icons">perm_identity</i>
                  </div>
                  <h4 class="card-title">User Profile
                  </h4>
              </div>
              <div class="card-body">
                  <div class="row">
                      <div class="col-md-6">
                          <div class="form-group">
                              <label class="bmd-label-floating">Student Code</label>
                              <p class="form-control-static">{{user.userCode}}</p>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="form-group">
                              <label class="bmd-label-floating">Email Address</label>
                              <p class="form-control-static">{{user.email}}</p>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-6">
                          <div class="form-group">
                              <label class="bmd-label-floating">Fist Name</label>
                              <p class="form-control-static">{{user.firstName}}</p>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="form-group">
                              <label class="bmd-label-floating">Last Name</label>
                              <p class="form-control-static">{{user.lastName}}</p>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">
                          <div class="form-group">
                              <label class="bmd-label-floating">Adress</label>
                              <p class="form-control-static">{{user.address}}</p>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-4">
                          <div class="form-group">
                              <label class="bmd-label-floating">City</label>
                              <p class="form-control-static">{{user.city}}</p>
                          </div>
                      </div>
                      <div class="col-md-4">
                          <div class="form-group">
                              <label class="bmd-label-floating">Country</label>
                              <p class="form-control-static">{{user.country}}</p>
                          </div>
                      </div>
                      <div class="col-md-4">
                          <div class="form-group">
                              <label class="bmd-label-floating">Postal Code</label>
                              <p class="form-control-static">{{user.pin}}</p>
                          </div>
                      </div>
                  </div>
                  <div class="clearfix"></div>
              </div>
          </div>
  </div>
  <div *ngIf="user"  class="col-md-4">
      <div class="card card-profile">
          <div class="card-avatar">
              <a href="#pablo">
                  <img class="img" [src]="user.image?user.image : './assets/img/faces/default.jpg'" />
              </a>
          </div>
          <div class="card-body">
              <h6 class="card-category text-gray">Full Name</h6>
              <h4 class="card-title">{{user.firstName}} {{user.lastName}}</h4> 
          </div>
      </div>
  </div>
</div>

<div class="row" *ngIf="invoices">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header card-header-text card-header-warning">
          <div class="card-text">
            <h4 class="card-title">All User Invoices</h4>
            <p class="card-category">Invoice history of user.</p>
          </div>
        </div>
        <div class="card-body table-responsive">
          <table class="table table-hover">
            <thead class="text-warning">
              <tr>
                <th *ngFor="let col of columns">{{ col }}</th>
              </tr>
            </thead>
            <tbody *ngIf="invoices.length > 0">
              <tr *ngFor="let row of invoices">
                <td>{{ row.id}}</td>
                <td>{{ row.name}}</td>
                <td>{{ row.invoiceDate | date}}</td>
                <td>{{ row.tax}}</td>
                <td>{{ row.subTotal}}</td>
                <td> <button mat-raised-button="" type="button" (click)="viewInvoice(row.id)"
                    class="mat-raised-button mat-button-base btn btn-success"><span class="mat-button-wrapper">
                      <i class="material-icons">visibility</i></span>
                    <div matripple="" class="mat-ripple mat-button-ripple"></div>
                    <div class="mat-button-focus-overlay">
                    </div>
                  </button></td>
              </tr>
            </tbody>
            <tr *ngIf="invoices.length === 0" >
                <td colspan="4">
                    <div class="alert alert-warning"><span>No invoice found for this user!</span></div>
                </td>
            </tr>
           
          </table>
        </div>
      </div>
    </div>
</div>
